---
title: "åˆçº¦è¯­è¨€ ç¬”è®°åˆé›†"
date: 2024-01-16
weight: 5
draft: false
tags: ["Web3", "lanuage"]
showToc: true
---


# ç®€ä»‹

æœ¬æ–‡ä»¶ä¸º Code Language çš„ç®€è¦è¯´æ˜ï¼Œé¢å‘ Web3 å¼€å‘è€…ä¸å­¦ä¹ è€…ï¼Œæ¦‚è¿° Solana ä¸ Ethereum ä¸¤å¤§ç”Ÿæ€ä¸­å¸¸è§çš„åˆçº¦è¯­è¨€åŠå…¶åŸºæœ¬ç”¨é€”ä¸ç‰¹ç‚¹ã€‚å†…å®¹ä»¥æŠ€æœ¯ä»‹ç»ä¸ºä¸»ï¼Œå¼ºè°ƒå®é™…å¼€å‘ä¸­çš„å¯ç†è§£æ€§ä¸å‚è€ƒä»·å€¼ï¼Œé€‚åˆä½œä¸ºé¡¹ç›®ä»“åº“æˆ–å­¦ä¹ ç¬”è®°ä¸­çš„å¿«é€ŸæŸ¥é˜…æ–‡æ¡£

---

## Ethereum

ä»¥å¤ªåŠç”Ÿæ€çš„åˆçº¦å¼€å‘è¯­è¨€ä¸°å¯Œï¼Œä»é«˜çº§è¯­è¨€åˆ°ä¸­é—´/ä½çº§è¯­è¨€éƒ½æœ‰å¯¹åº”å·¥å…·é“¾ã€‚ä¸‹é¢æŒ‰å¸¸è§åº¦ä¸ç”¨é€”åˆ—å‡º

### Solidity

* **å®šä½**ï¼šä»¥å¤ªåŠä¸»æµé«˜çº§è¯­è¨€ï¼ˆç±»ä¼¼ JS/Java é£æ ¼ï¼‰ï¼Œæœ€å¹¿æ³›ä½¿ç”¨çš„æ™ºèƒ½åˆçº¦è¯­è¨€
* **ç‰¹ç‚¹**ï¼š

  * é¢å‘åˆçº¦ã€æ”¯æŒç»§æ‰¿ã€æ¥å£ã€äº‹ä»¶ã€ABI è‡ªåŠ¨åŒ–
  * ä¸°å¯Œç”Ÿæ€ï¼ˆTruffle/Hardhat/Foundry ç­‰å·¥å…·é“¾ï¼‰
* **ä¼˜ç‚¹**ï¼š

  * å¼€å‘é—¨æ§›ä½ã€èµ„æ–™ä¸ç¤ºä¾‹ä¸°å¯Œã€ä¸»ç½‘é¡¹ç›®å¤š

* **ç¤ºä¾‹**ï¼š

  ```solidity
  // SPDX-License-Identifier: MIT
  pragma solidity ^0.8.0;

  contract Counter {
      uint256 public count;
      function inc() public { count += 1; }
  }
  ```

### Vyper

* **å®šä½**ï¼šä»¥ Python é£æ ¼è®¾è®¡çš„ä»¥å¤ªåŠåˆçº¦è¯­è¨€ï¼Œè¿½æ±‚ç®€æ´ä¸å®‰å…¨æ€§ï¼ˆé¿å…å¤æ‚ç‰¹æ€§ï¼‰
* **ç‰¹ç‚¹**ï¼š

  * è¯­æ³•æ›´æ¥è¿‘ Pythonï¼Œä½†åªç”¨äºåˆçº¦å¼€å‘ï¼ˆä¸æ˜¯é€šç”¨ Pythonï¼‰
  * æœ‰æ„å‡å°‘è¯­è¨€ç‰¹æ€§ä»¥é™ä½æ˜“é”™é¢ï¼ˆä¾‹å¦‚é™åˆ¶ç»§æ‰¿ã€å¤æ‚æŠ½è±¡ï¼‰
* **ä¼˜ç‚¹**ï¼š

  * æ›´å¯é¢„æµ‹ã€å®¡è®¡é¢æ›´å°ï¼Œé€‚åˆå¯¹å®‰å…¨æ€§è¦æ±‚é«˜çš„åˆçº¦ã€‚

* **ç¤ºä¾‹ï¼ˆæ¦‚å¿µï¼‰**ï¼š

  ```python

  count: public(uint256)

  @external
  def inc():
      self.count += 1
  ```

### Yul
> ğŸ‘‰ [ Yul ä½¿ç”¨æŒ‡å— ](/web3/codelanuage/yul/yul)
* **å®šä½**ï¼šEVM çš„ä¸­é—´è¡¨ç¤ºï¼ˆIRï¼‰ï¼ŒSolidity ç­‰ç¼–è¯‘å™¨å¯è¾“å‡º Yulï¼Œç”¨äºæ›´ç²¾ç»†çš„ä¼˜åŒ–ä¸è·¨ EVM åç«¯ï¼ˆä¾‹å¦‚ EVM + ewasmï¼‰ã€‚
* **ç‰¹ç‚¹**ï¼š

  * æ›´ä½çº§ä½†ä»æ¯”çº¯æ±‡ç¼–æ›´ç»“æ„åŒ–ï¼Œé€‚åˆåšè·¨ç¼–è¯‘å™¨ä¼˜åŒ–ä¸æ‰‹å†™çƒ­è·¯å¾„
* **ç”¨é€”**ï¼š

  * ç”¨äºé«˜çº§è¯­è¨€æ— æ³•è½»æ˜“è¡¨è¾¾çš„ä½å±‚ä¼˜åŒ–ï¼Œæˆ–ä½œä¸ºç¼–è¯‘å™¨è¾“å‡ºä»¥ä¾¿è¿›ä¸€æ­¥ä¼˜åŒ–

* **ç¤ºä¾‹**ï¼š

  ```yul
  {
    let x := add(1, 2)
    // ...
  }
  ```

### [Huff](https://docs.huff.sh/)
> ğŸ‘‰ [ Huff ä½¿ç”¨æŒ‡å— ](/web3/codelanuage/huff/huff)

* **å®šä½**ï¼šæä½çº§ã€é¢å‘ EVM çš„å®åŒ–æ±‡ç¼–è¯­è¨€ï¼Œä¸“æ³¨äºæœ€å°åŒ– Gas ä¸é«˜åº¦å¯æ§çš„å­—èŠ‚ç è¾“å‡º
* **ç‰¹ç‚¹**ï¼š

  * ç”¨äºç¼–å†™é«˜åº¦ä¼˜åŒ–ã€æè‡´ç²¾ç®€çš„åˆçº¦å­—èŠ‚ç ï¼ˆå¸¸è§äºéœ€è¦æä½éƒ¨ç½²/æ‰§è¡Œæˆæœ¬çš„åœºæ™¯æˆ–ç ”ç©¶ï¼‰
  * è¯­æ³•æ¥è¿‘æ±‡ç¼–/å®ï¼ŒæŠ½è±¡å°‘ä½†çµæ´»åº¦é«˜
* **ä¼˜ç‚¹/ç”¨é€”**ï¼š

  * é€‚åˆå¯¹ Gas ä¼˜åŒ–è¦æ±‚æé«˜çš„åœºæ™¯ã€å®éªŒæ€§å®ç°æˆ–æç®€åˆçº¦ï¼ˆä¾‹å¦‚ gas-critical å·¥å…·åˆçº¦ï¼‰
* **ç¤ºä¾‹**:
```huff
// Counter.huff

#define macro MAIN() = takes(0) returns(0) {
    // calldata[0:4] è¯»å–å‡½æ•°é€‰æ‹©å™¨
    0x00 calldataload
    0xe0 shr               // å–å‰ 4 å­—èŠ‚

    // åˆ¤æ–­æ˜¯å¦æ˜¯ increment()
    dup1
    0xd09de08a             // increment() çš„ selector
    eq
    increment jumpi

    // fallback: revert
    0x00 0x00 revert

increment:
    // load storage slot 0
    0x00 sload

    // add 1
    0x01 add

    // store back to slot 0
    0x00 sstore

    // return ()
    0x00 0x00 return
}
```


---

## Solana

* **ä¸»è¯­è¨€**ï¼š**Rust**

  * Solana ä¸Šçš„æ™ºèƒ½åˆçº¦ç§°ä¸º **Program**ï¼Œé€šå¸¸ç”¨ Rust ç¼–å†™å¹¶é€šè¿‡ LLVM ç¼–è¯‘ä¸º **eBPF**ï¼ˆeBPF å­—èŠ‚ç ï¼‰åœ¨ Solana è¿è¡Œæ—¶æ‰§è¡Œ
  * å¸¸ç”¨æ¡†æ¶ï¼š**Anchor**ï¼ˆé«˜å±‚æ¡†æ¶ï¼Œæä¾›è´¦æˆ·éªŒè¯ã€åºåˆ—åŒ–ã€å®ç­‰ä¾¿æ·åŠŸèƒ½ï¼‰
* **å…¸å‹ç‰¹å¾**ï¼š

  * çŠ¶æ€ä»¥**æ˜¾å¼è´¦æˆ·ï¼ˆAccountï¼‰æ•°æ®**ä¸ºä¸­å¿ƒï¼Œè€Œé EVM çš„ storage slot / trie æ¨¡å‹
  * å¼ºå¹¶è¡Œæ‰§è¡Œæ¨¡å‹ï¼Œè®¾è®¡ä¸Šå¼ºè°ƒé«˜ååä¸ä½å»¶è¿Ÿ
* **ä¼˜ç‚¹**ï¼š

  * æ€§èƒ½ä¸å†…å­˜æ§åˆ¶ä¼˜ç§€ï¼›Rust çš„ç±»å‹/å€Ÿç”¨æ£€æŸ¥æœ‰åŠ©äºå‡å°‘ä¸€ç±»å†…å­˜ä¸å¹¶å‘é”™è¯¯
  * Anchor ç­‰æ¡†æ¶æé«˜å¼€å‘æ•ˆç‡ä¸ä¸€è‡´æ€§

* **ç¤ºä¾‹ï¼ˆæ¦‚å¿µï¼‰**ï¼š

  ```rust
  // Rust + Anchorï¼ˆæ¦‚å¿µç¤ºä¾‹ï¼‰
  #[derive(Accounts)]
  pub struct Initialize<'info> {
      #[account(init, payer = user, space = 8 + 40)]
      pub config: Account<'info, Config>,
      #[account(mut)]
      pub user: Signer<'info>,
      pub system_program: Program<'info, System>,
  }
  ```
---



